(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{162:function(t,s,a){t.exports=a.p+"assets/img/wechat_bug.e251831b.png"},166:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"微信端分享的坑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#微信端分享的坑","aria-hidden":"true"}},[t._v("#")]),t._v(" 微信端分享的坑")]),t._v(" "),n("h2",{attrs:{id:"_1-微信端分享二次分享-url-的坑-目前只在-ios-中出现-android-中分享-ok-2018-12"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-微信端分享二次分享-url-的坑-目前只在-ios-中出现-android-中分享-ok-2018-12","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 微信端分享二次分享 url 的坑(目前只在 ios 中出现, android 中分享 ok. 2018.12)")]),t._v(" "),n("p",[t._v("​\t"),n("strong",[t._v("des")]),t._v(": 在 ios 中进入初始 url , 切换路由后再次分享, 分享出去的路由为初始进入 url.")]),t._v(" "),n("p",[t._v("​\t"),n("strong",[t._v("do")]),t._v(":"),n("br"),t._v(" "),n("img",{attrs:{src:a(162)}}),t._v("\n所以我们的解决方案是:  当且仅当在 "),n("em",[n("strong",[t._v("ios")])]),t._v(" 和 "),n("em",[n("strong",[t._v("微信")])]),t._v(" 中, 我们在路由切换的时候重新进行签名,即可解决.")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("router"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("beforeEach")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("from")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("isIOS")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("isWX")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// TODO: 请求微信 js-sdk 配置")]),t._v("\n        "),n("span",{attrs:{class:"token function"}},[t._v("post")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("then")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" wx"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("config")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token operator"}},[t._v("...")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("next")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}],o=a(0),r=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);r.options.__file="wx2share.md";s.default=r.exports}}]);